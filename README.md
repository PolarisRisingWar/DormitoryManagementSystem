# DormitoryManagementSystem
我的移动技术开发与创业课程暨管理信息系统大作业。

### 5.31  14:02

  1.主页面为MainActivity，通过RadioGroup切换至个人中心、寝室事务、我的生活三个fragment。  
2.个人中心MyFragment界面架构。  
3.MyFragment跳转到登录界面。

### 6.2

  1.在多个activity界面增加了返回按钮，监听事务为停止该activity的生命周期（finish）。  
  2.登录传参选用sharedpreference方式，退出即直接清楚editor。  
  3.登录前后，myfragment界面有所差别；因为还没有连数据库，觉得把很多小的activity加进来没意义，就先不加了。退出按钮清空sharedpreference。登录前点击多按钮会弹出toast。登陆后头像和用户名会改变。  
  4.做了一些比较表层的UI优化。  
TODO：  
2.连接数据库以后：完善个人中心fragment下多个activity（通知信息为list（分页），建议与反馈、修改密码为表单），出入管理下多个activity（日常出入记录为list（分页），离校登记、外部人员出入、大件出入跳转到XX历史为表、新建为表单），危险品登记跳转到登记历史为表、新建为表单。  
校园卡管理界面：  
（1）失物招领：首先是个分页信息（丢卡为红色条，招领为灰色条），最上面可以模糊搜索，模糊搜索下面可以登记丢卡或招领的卡。登记丢卡的同时弹窗提醒学生“建议补办该卡”。**此处需要添加数据库管理相关功能**：学生登记的信息实时显示，找到的信息（由发布学生自己取消）可以消失（隐藏；本学生自己可以从“发布历史”中看到该条），补办成功的卡的失物招领信息自动消失。  
（2）挂失、补办、转账都是表、表单格式。  
（3）充值因为对接不到学校肯定不能仿真了，如果我比较闲的话会放个自己的支付宝收款码上去。  
（4）交易记录为list（分页）。  
我的生活界面（如果没时间做就不做了）：  
（1）天气使用《第一行代码Android》上提供的从和风天气接口获得天气，先做只有成都天气版的，后期有时间添加自动定位、手动选择城市功能。要是还有时间，多从几个接口获得天气数据。  
（2）备忘录：用sqlite存在本地就行。  
（3）新闻：直接找个新闻网站爬数据。  
3.封装apk。

### 6.8  
1.原则上应该连服务器，再由服务器连数据库的，但我这不是不想写服务器吗（我队友们说要写服务器，但是她们要写好，我这边作业可能都交了），就直接连了本机的数据库。连接数据库的那个类，出于毫无意义的保护隐私的需要，就没有加入Git。如果我想的起来的话，我会截图打码放到百度云上的。  
2.做了个人信息activity其他部分正常获得数据库中数据，校卡余额、热水余额、电费余额、信用积分锁死。  
TODO：  
1.有缘做用户头像吧（还要加密转换成string好麻烦）。再说也没人给我写服务器……

### 6.9
1.制作了一个“此功能正在开发中，敬请期待”的简易弹窗。  
2.做了一个粗暴且弱智的校园卡详情页listview界面。  
3.觉得自己在上演大型人间迷惑戏剧行为。  
TODO：  
1.校园卡详情页的分页……我实在是觉得六条账单没有意义搞什么。（大量数据的话：把数据存入本地数据库，存一次就行，退出的时候顺手清空一下；数据库里按照单号倒序提出到listview中；上拉分页，大概在十八条左右的样子设置分页；因为格式的原因，感觉做成表格没什么意义……加个表头吧，simpleadapter也不用改了；那么大量的话应该还要做个加载中的动画之类的，或者加个TextView“加载中……”凑合一下也行）。  
2.校园卡详情页的模糊搜索……我踅摸着六条账单也没什么可搜索的。  
3.啊我接不了财务口……究竟怎么获得个人信息界面的校园卡余额？？？我也没有服务器

## 项目演示：录屏（该分享七日有效）：
链接：https://pan.baidu.com/s/1NUunv0-pSJK39rAele-e4A  
提取码：5zo1  
复制这段内容后打开百度网盘手机App，操作更方便哦  
注：由于华为手机比较智能，所以录屏过程中输入密码的部分直接黑屏了。视频没坏。  

## Tips：
1.管理员、宿管、教师界面没有搞，业务逻辑是要求他们登录PC端。原则上讲，这个系统是网页+移动客户端的配置，但是网页给我队友们写（如果她们真的写的话）。我负责写安卓移动端这块（为什么不iOS呢，当然是因为我穷啊）。   
2.Android studio平台为3.3版。数据库为MySQL5.6，数据库管理工具为Navicat。测试用的真机是华为p10，安卓版本是8.0.0。  
3.我们学校校园网好烦，电脑的IP地址还会自己变，每次想连个数据库还要先ipconfig。我本来想上阿里云数据库的（他们最近做活动10元钱6个月），但是觉得太麻烦，我毕竟只是一个睿智的课程项目。  
4.我每次都用的是rebase（每次都是因为在这边更新README），不知道有没有什么问题（我的平时作业那个项目用的是merge，JSP那个项目没用IDE，直接用Git bash在本地写了README文件）。如果有问题算我倒霉（毕竟我没有认真学习Git和GitHub的使用喽）。
